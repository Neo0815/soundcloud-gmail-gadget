<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs title="SoundCloud"
    description="Tracks from this email"
    height="20"
    author="Eric Wahlforss"
    author_email="eric@soundcloud.com"
    author_location="Berlin, Germany">

    <Require feature="dynamic-height"/>
    <Require feature="google.contentmatch">
      <Param name="extractors">
        google.com:HttpLinkExtractor
      </Param>
    </Require>

    <Icon>http://soundcloud.com/favicon.ico</Icon>

  </ModulePrefs>
  <Content type="html" view="card">
    <![CDATA[
      <style type="text/css">
        body {
          background: transparent
        }

        li {
          list-style-type: none;
          padding: 0 0 10px 0;
          margin: 0;
        }
        ul {
          padding: 0;
          margin: 0;
        }
      </style>
      <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'></script>
      <script type='text/javascript' src='http://sc.warteschlange.de/sc-gmail.js'></script>
      <script type='text/javascript'>
        jQuery('<ul/>').appendTo(document.body).scGMail( google.contentmatch.getContentMatches(), { callback: function(listSize, listHeight){
          if( listHeight > 0 ) {
            gadgets.window.adjustHeight(listHeight + 12);
          }
          else {
            $(gadgets.window).hide();
          }
        }
       });
      </script>
    ]]>
  </Content>
</Module>